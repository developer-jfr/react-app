(this["webpackJsonpreact-one"]=this["webpackJsonpreact-one"]||[]).push([[5],{384:function(e,t,n){"use strict";n.r(t);var c=n(73),r=n(152),s=n(83),a=n(0),i=n(3),j=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),u=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(o,{}),Object(i.jsx)(d,{})]})},o=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){j.addEventListener("message",(function(e){var t=JSON.parse(e.data);s((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t))}))}))}),[]),Object(i.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:n.map((function(e,t){return Object(i.jsx)(b,{message:e},t)}))})},b=function(e){var t=e.message;return Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{src:t.photo})," ",Object(i.jsx)("b",{children:t.userName}),Object(i.jsx)("br",{}),t.message,Object(i.jsx)("hr",{})]})},d=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)("pending"),o=Object(r.a)(u,2),b=(o[0],o[1]);Object(a.useEffect)((function(){var e=function(){b("ready")};return null===j||void 0===j||j.addEventListener("open",e),function(){j.removeEventListener("open",e),j.close()}}),[j]);return Object(i.jsxs)("div",{style:{marginTop:"10px"},children:[Object(i.jsx)("div",{children:Object(i.jsx)("textarea",{onChange:function(e){return c(e.currentTarget.value)},value:n})}),Object(i.jsx)("div",{children:Object(i.jsx)(s.a,{onClick:function(){n&&(j.send(n),c(""))},children:"Send"})})]})};t.default=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(u,{})})}}}]);
//# sourceMappingURL=5.f135e0d9.chunk.js.map